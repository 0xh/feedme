!function(n){var a={};function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"render",value:function(e,t){this.clearContent(e),e.insertAdjacentHTML("beforeend",t)}},{key:"renderPartial",value:function(e,t,n){var a=2<arguments.length&&void 0!==n?n:"beforeend";e.insertAdjacentHTML(a,t)}},{key:"clearContent",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}t.default=new r;t.text=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r="",o=!0,i=!1,l=void 0;try{for(var s,u=n.entries()[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,d=b(c,2),f=d[0],v=d[1],p=(new DOMParser).parseFromString(v,"text/html");r+=e[f]+p.querySelector("body").textContent}}catch(e){i=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw l}}return r+=e[e.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(13),l=(o=i)&&o.__esModule?o:{default:o};var s=(a(u,[{key:"getId",value:function(){return this.data.id}},{key:"toString",value:function(){return JSON.stringify(this.data)}}]),u);function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.data={type:e,id:(0,l.default)(),data:t}}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,l,s=(o=['<div class="information">',"</div>"],i=['<div class="information">',"</div>"],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),u=n(0),c=(l=u)&&l.__esModule?l:{default:l};var d=(a(f,[{key:"show",value:function(e,t){this.hide(e),c.default.render(e,'<div class="loading-indicator">\n            <div class="loader"><span></span></div>\n        </div>'),void 0!==t&&c.default.renderPartial(e.querySelector(".loading-indicator"),(0,u.text)(s,t))}},{key:"hide",value:function(e){var t=document.querySelector(".loading-indicator");void 0!==e&&(t=e.querySelector(".loading-indicator")),t&&t.parentNode.removeChild(t)}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f)}t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),l=(o=i)&&o.__esModule?o:{default:o};var s=(a(u,[{key:"render",value:function(){var t=document.querySelector(".navbar .navbar-nav");l.default.clearContent(t);for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];n.forEach(function(e){l.default.renderPartial(t,e.render().toString())})}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}t.default=new s},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"show",value:function(e){e.querySelectorAll('input[type="submit"], button[type="submit"]').forEach(function(e){e.classList.add("loading")})}},{key:"hide",value:function(e){e.querySelectorAll('input[type="submit"].loading, button[type="submit"].loading').forEach(function(e){e.classList.remove("loading")})}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,l,s=(o=['<div class="invalid-feedback d-block">',"</div>"],i=['<div class="invalid-feedback d-block">',"</div>"],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),u=n(0),c=(l=u)&&l.__esModule?l:{default:l};var d=(a(f,[{key:"clearvalidationErrors",value:function(e){e.querySelectorAll(".is-invalid").forEach(function(e){e.classList.remove("is-invalid")}),e.querySelectorAll(".invalid-feedback").forEach(function(e){e.parentNode.removeChild(e)}),e.querySelectorAll(".alert-danger").forEach(function(e){e.classList.add("d-none")})}},{key:"invalidateField",value:function(e,t){e.classList.add("is-invalid"),void 0!==t&&c.default.renderPartial(e.parentNode,this.getContent(t))}},{key:"getContent",value:function(e){return(0,u.text)(s,this.translateError(e))}},{key:"translateError",value:function(e){return this.translations.hasOwnProperty(e)?this.translations[e]:"{{"+e+"}}"}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.translations={"Email.NativeEmailAddress":"Invalid email address","Text.MinimumLength":"Must be at least 6 characters","Password.NoMatch":"Passwords do not match","Username.Unique":"Email address already exists"}}t.default=new d},function(e,t,n){"use strict";n(7);var a=v(n(8)),r=v(n(2)),o=v(n(9)),i=v(n(10)),l=v(n(16)),s=v(n(17)),u=v(n(20)),c=v(n(21)),d=v(n(25)),f=v(n(27));function v(e){return e&&e.__esModule?e:{default:e}}var p=new u.default,b=new o.default(p),h=new a.default,y=new l.default(b,h),m=new d.default(y),g=new i.default(y,b);b.add("/",g),b.add("/login",g),b.add("/register",new s.default(y,b)),b.add("/dashboard",new c.default(m,y,h)),b.add("/read/([0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})",new f.default,!1),h.connect(function(){r.default.hide(),b.run("/")})},function(e,t,n){},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"connect",value:function(e){var n=this;this.socket=new window.WebSocket(this.getUrl()),this.socket.addEventListener("open",e),this.socket.addEventListener("message",function(e){var t=JSON.parse(e.data);console.log("RECEIVED"),console.log(t),n.eventListeners.hasOwnProperty(t.requestId)&&n.eventListeners[t.requestId](t)})}},{key:"send",value:function(e){console.log("SENDING"),console.log(e),this.socket.send(e)}},{key:"addEventListener",value:function(e,t){this.eventListeners[e]=t}},{key:"getUrl",value:function(){var e="ws";return"https"===location.protocol&&(e+="s://"),(e+="://")+location.host+"/ws"}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.socket=null,this.eventListeners=[]}t.default=r},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"add",value:function(e,t,n){var a=!(2<arguments.length&&void 0!==n)||n;this.routes["^"+e+"$"]={controller:t,withHistory:a}}},{key:"run",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;for(var a in this.routes){var r;if(this.routes.hasOwnProperty(a)){var o=e.match(new RegExp(a));if(null!==o)return this.routes[a].withHistory&&n&&this.history.pushUrl(e),o.shift(),void(r=this.routes[a].controller).run.apply(r,i(o))}}console.warn("No matching route found for URL: "+e)}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.routes={},this.history=e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=c(n(11)),i=c(n(3)),l=c(n(4)),s=c(n(12)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=(a(f,[{key:"run",value:function(){i.default.render(),o.default.render()}},{key:"handleSubmit",value:function(e){var n=this;e.target.classList.contains("login")&&(e.preventDefault(),l.default.show(e.target),u.default.clearvalidationErrors(e.target),this.handler.handleSubmit(new s.default(e.target.querySelector('[name="username"]').value,e.target.querySelector('[name="password"]').value),function(e){var t=document.querySelector("form.login");t&&(200===e.status?n.handleValidLogIn(t,e.data.session):n.handleInvalidLogIn(t))}))}},{key:"handleInvalidLogIn",value:function(e){l.default.hide(e),e.querySelector('[name="password"]').value="",e.querySelector(".alert").classList.remove("d-none")}},{key:"handleValidLogIn",value:function(t,e){var n=this;fetch("/start-session/"+e.id+"/"+e.userId+"/"+e.token,{method:"GET",credentials:"same-origin"}).then(function(e){200===e.status?(l.default.hide(t),n.router.run("/dashboard")):n.handleInvalidLogIn(t)})}}]),f);function f(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.handler=e,this.router=t,document.addEventListener("submit",this.handleSubmit.bind(this))}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,l,s=(o=['<div class="container h-100">\n            <div class="row h-100 justify-content-center align-items-center">\n                <form class="col-sm-12 col-md-6 login" method="post" action="/login" novalidate>\n                    <h5 class="mb-4">\n                        Log In\n                        <small class="d-block d-md-inline">\n                            <span class="text-muted"> or </span>\n                            <a class="text-primary" href="/register">create a new account</a>\n                        </small>\n                    </h5>\n                    <div class="form-group">\n                        <label>Email address</label>\n                        <input type="text" name="username" class="form-control" placeholder="Email address">\n                    </div>\n                    <div class="form-group">\n                        <label>Password</label>\n                        <input type="password" name="password" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <div class="pretty p-default p-thick">\n                            <input type="checkbox" />\n                            <div class="state p-primary">\n                                <label>Remember me</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <button type="submit" class="btn btn-primary btn-block">\n                            <span>\n                                Log In\n                            </span>\n                        </button>\n                    </div>\n                    <div class="alert alert-danger d-none" role="alert">\n                        Invalid credentials! Please try again...\n                    </div>\n                </form>\n            </div>\n        </div>'],i=['<div class="container h-100">\n            <div class="row h-100 justify-content-center align-items-center">\n                <form class="col-sm-12 col-md-6 login" method="post" action="/login" novalidate>\n                    <h5 class="mb-4">\n                        Log In\n                        <small class="d-block d-md-inline">\n                            <span class="text-muted"> or </span>\n                            <a class="text-primary" href="/register">create a new account</a>\n                        </small>\n                    </h5>\n                    <div class="form-group">\n                        <label>Email address</label>\n                        <input type="text" name="username" class="form-control" placeholder="Email address">\n                    </div>\n                    <div class="form-group">\n                        <label>Password</label>\n                        <input type="password" name="password" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <div class="pretty p-default p-thick">\n                            <input type="checkbox" />\n                            <div class="state p-primary">\n                                <label>Remember me</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <button type="submit" class="btn btn-primary btn-block">\n                            <span>\n                                Log In\n                            </span>\n                        </button>\n                    </div>\n                    <div class="alert alert-danger d-none" role="alert">\n                        Invalid credentials! Please try again...\n                    </div>\n                </form>\n            </div>\n        </div>'],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),u=n(0),c=(l=u)&&l.__esModule?l:{default:l};var d=(a(f,[{key:"render",value:function(){c.default.render(document.querySelector("main"),this.getContent())}},{key:"getContent",value:function(){return(0,u.text)(s)}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f)}t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1);var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,((a=r)&&a.__esModule?a:{default:a}).default),i);function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"LogIn",{username:e,password:t}))}t.default=o},function(e,t,n){var i=n(14),l=n(15);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[a+o]=r[o];return t||l(r)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var a=new Uint8Array(16);e.exports=function(){return n(a),a}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")}},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"handlePopState",value:function(e){this.router.run(location.pathname,!1)}},{key:"handleClick",value:function(e){if(0===e.button){var t=this.findNavigationTarget(e);t&&location.host===t.host&&(e.preventDefault(),this.router.run(t.pathname))}}},{key:"findNavigationTarget",value:function(e){var t=e.target;do{if("A"===t.tagName)return t.getAttribute("href").startsWith("#")?null:t}while(t=t.parentNode);return null}},{key:"handleSubmit",value:function(e,t){void 0!==t&&this.connection.addEventListener(e.getId(),t),this.connection.send(e.toString())}}]),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.router=e,this.connection=t,window.addEventListener("popstate",this.handlePopState.bind(this)),document.addEventListener("click",this.handleClick.bind(this))}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=c(n(18)),i=c(n(3)),l=c(n(4)),s=c(n(19)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var d=(a(f,[{key:"run",value:function(){i.default.render(),o.default.render()}},{key:"handleSubmit",value:function(e){var n=this;e.target.classList.contains("register")&&(e.preventDefault(),l.default.show(e.target),u.default.clearvalidationErrors(e.target),this.handler.handleSubmit(new s.default(e.target.querySelector('[name="username"]').value,e.target.querySelector('[name="password"]').value,e.target.querySelector('[name="password2"]').value),function(e){var t=document.querySelector("form.register");t&&(200===e.status?n.handleValidRegistration(t,e.data.session):n.handleInvalidRegistration(t,e))}))}},{key:"handleInvalidRegistration",value:function(t,n){l.default.hide(t),t.querySelector('[name="password"]').value="",t.querySelector('[name="password2"]').value="",void 0!==n&&["username","password","password2"].forEach(function(e){n.errors.hasOwnProperty(e)&&u.default.invalidateField(t.querySelector('[name="'+e+'"]'),n.errors[e])})}},{key:"handleValidRegistration",value:function(t,e){var n=this;fetch("/start-session/"+e.id+"/"+e.userId+"/"+e.token,{method:"GET",credentials:"same-origin"}).then(function(e){200===e.status?(l.default.hide(t),n.router.run("/dashboard")):n.handleInvalidRegistration(t)})}}]),f);function f(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.handler=e,this.router=t,document.addEventListener("submit",this.handleSubmit.bind(this))}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,l,s=(o=['<div class="container h-100">\n            <div class="row h-100 justify-content-center align-items-center">\n                <form class="col-sm-12 col-md-6 register" method="post" action="/register" novalidate>\n                    <h5 class="mb-4">\n                        Register\n                        <small class="d-block d-md-inline">\n                            <span class="text-muted"> or </span>\n                            <a class="text-primary" href="/login">log in with an existing account</a>\n                        </small>\n                    </h5>\n                    <div class="form-group">\n                        <label>Email address</label>\n                        <input type="text" name="username" class="form-control" placeholder="Email address">\n                        <div class="invalid-feedback"></div>\n                    </div>\n                    <div class="form-group">\n                        <label>Password</label>\n                        <input type="password" name="password" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <label>Repeat password</label>\n                        <input type="password" name="password2" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <button type="submit" class="btn btn-primary btn-block">\n                            Register\n                        </button>\n                    </div>\n                    <div class="alert alert-danger d-none" role="alert">\n                        This is a danger alert—check it out!\n                    </div>\n                </form>\n            </div>\n        </div>'],i=['<div class="container h-100">\n            <div class="row h-100 justify-content-center align-items-center">\n                <form class="col-sm-12 col-md-6 register" method="post" action="/register" novalidate>\n                    <h5 class="mb-4">\n                        Register\n                        <small class="d-block d-md-inline">\n                            <span class="text-muted"> or </span>\n                            <a class="text-primary" href="/login">log in with an existing account</a>\n                        </small>\n                    </h5>\n                    <div class="form-group">\n                        <label>Email address</label>\n                        <input type="text" name="username" class="form-control" placeholder="Email address">\n                        <div class="invalid-feedback"></div>\n                    </div>\n                    <div class="form-group">\n                        <label>Password</label>\n                        <input type="password" name="password" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <label>Repeat password</label>\n                        <input type="password" name="password2" class="form-control" placeholder="Password">\n                    </div>\n                    <div class="form-group">\n                        <button type="submit" class="btn btn-primary btn-block">\n                            Register\n                        </button>\n                    </div>\n                    <div class="alert alert-danger d-none" role="alert">\n                        This is a danger alert—check it out!\n                    </div>\n                </form>\n            </div>\n        </div>'],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),u=n(0),c=(l=u)&&l.__esModule?l:{default:l};var d=(a(f,[{key:"render",value:function(){c.default.render(document.querySelector("main"),this.getContent())}},{key:"getContent",value:function(){return(0,u.text)(s)}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f)}t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1);var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,((a=r)&&a.__esModule?a:{default:a}).default),i);function i(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"Register",{username:e,password:t,password2:n}))}t.default=o},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"pushUrl",value:function(e){console.log("Pushing URL: "+e),history.pushState({page:1},null,e)}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=s(n(22)),i=s(n(3)),l=s(n(24));function s(e){return e&&e.__esModule?e:{default:e}}var u=(a(c,[{key:"run",value:function(){i.default.render(),o.default.render(this.handler),this.sidebar.render(),this.handler.handleSubmit(new l.default),document.querySelector("body").classList.add("authenticated"),document.querySelector("main").classList.remove("col-sm-12"),document.querySelector("main").classList.add("col-md-9","ml-sm-auto","col-lg-10")}},{key:"handleSubmit",value:function(e){}}]),c);function c(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.sidebar=e,this.handler=t,n.addEventListener("NewArticle",function(e){o.default.renderNewArticle(e.data.article)}),n.addEventListener("ReadArticle",function(e){o.default.readArticle(e.data.article)}),document.addEventListener("submit",this.handleSubmit.bind(this))}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=v(['<h2>All</h2>\n            <table class="table articles">\n                <tbody>\n                </tbody>\n            </table>'],['<h2>All</h2>\n            <table class="table articles">\n                <tbody>\n                </tbody>\n            </table>']),i=v(['<tr data-id="','" class="','">\n                    <td class="author">\n                        <a href="/read/','" target="_blank">\n                            ','\n                        </a>\n                    </td>\n                    <td class="content">\n                        <div class="title">\n                            <a href="/read/','" target="_blank">\n                                ','\n                            </a>\n                        </div>\n                    </td>\n                    <td class="date">\n                        <a href="/read/','" target="_blank">\n                            ',"\n                        </a>\n                    </td>\n                </tr>"],['<tr data-id="','" class="','">\n                    <td class="author">\n                        <a href="/read/','" target="_blank">\n                            ','\n                        </a>\n                    </td>\n                    <td class="content">\n                        <div class="title">\n                            <a href="/read/','" target="_blank">\n                                ','\n                            </a>\n                        </div>\n                    </td>\n                    <td class="date">\n                        <a href="/read/','" target="_blank">\n                            ',"\n                        </a>\n                    </td>\n                </tr>"]),l=v(['<tr class="unread" data-id="','">\n            <td class="author">\n                <a href="/read/','" target="_blank">\n                    ','\n                </a>\n            </td>\n            <td class="content">\n                <div class="title">\n                    <a href="/read/','" target="_blank">\n                        ','\n                    </a>\n                </div>\n            </td>\n            <td class="date">\n                <a href="/read/','" target="_blank">\n                    ',"\n                </a>\n            </td>\n        </tr>"],['<tr class="unread" data-id="','">\n            <td class="author">\n                <a href="/read/','" target="_blank">\n                    ','\n                </a>\n            </td>\n            <td class="content">\n                <div class="title">\n                    <a href="/read/','" target="_blank">\n                        ','\n                    </a>\n                </div>\n            </td>\n            <td class="date">\n                <a href="/read/','" target="_blank">\n                    ',"\n                </a>\n            </td>\n        </tr>"]),s=n(0),u=f(s),c=f(n(2)),d=f(n(23));function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=(a(b,[{key:"render",value:function(e){document.querySelector("main").classList.add("text-center"),c.default.show(document.querySelector("main"),"Loading articles"),e.handleSubmit(new d.default,function(e){document.querySelector("main").classList.remove("text-center"),u.default.render(document.querySelector("main"),(0,s.text)(o));var t=document.querySelector("table.articles tbody");e.data.articles.length?e.data.articles.forEach(function(e){u.default.renderPartial(t,(0,s.text)(i,e.id,e.read?"":"unread",e.id,e.source,e.id,e.title,e.id,e.createdAt))}):u.default.renderPartial(t,'<tr>\n                    <td colspan="3">No articles available (yet)!</td>\n                </tr>')})}},{key:"renderNewArticle",value:function(e){var t=document.querySelector("table.articles tbody");u.default.renderPartial(t,(0,s.text)(l,e.id,e.id,e.source,e.id,e.title,e.id,e.createdAt),"afterbegin")}},{key:"readArticle",value:function(e){var t=document.querySelector('[data-id="'+e.id+'"]');t&&t.classList.remove("unread")}}]),b);function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b)}t.default=new p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1);var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,((a=r)&&a.__esModule?a:{default:a}).default),i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"GetArticles",{}))}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1);var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,((a=r)&&a.__esModule?a:{default:a}).default),i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"SubscribeToAll",{}))}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,l=(o=['<div class="modal" tabindex="-1" role="dialog">\n            <div class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">Add category</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <form action="#" class="add-category">\n                        <div class="modal-body">\n                            <div class="form-group">\n                                <label>Name</label>\n                                <input type="text" name="name" class="form-control" placeholder="Category name">\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-secondary float-left" data-dismiss="modal">Cancel</button>\n                            <button type="button" class="btn btn-primary">Create</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>'],i=['<div class="modal" tabindex="-1" role="dialog">\n            <div class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title">Add category</h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <form action="#" class="add-category">\n                        <div class="modal-body">\n                            <div class="form-group">\n                                <label>Name</label>\n                                <input type="text" name="name" class="form-control" placeholder="Category name">\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-secondary float-left" data-dismiss="modal">Cancel</button>\n                            <button type="button" class="btn btn-primary">Create</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>'],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))),s=n(0),u=f(s),c=f(n(2)),d=f(n(26));function f(e){return e&&e.__esModule?e:{default:e}}var v=(a(p,[{key:"handleClick",value:function(e){e.target.classList.contains("add-category")&&(e.preventDefault(),this.handleNewCategoryClick())}},{key:"handleNewCategoryClick",value:function(){var e=(0,s.text)(l);u.default.renderPartial(document.querySelector("main"),e)}},{key:"render",value:function(){var a=this;this.createContainerWhenNeeded(),c.default.show(document.querySelector(".sidebar-sticky"),"Loading categories"),this.handler.handleSubmit(new d.default,function(e){var t=document.querySelector(".sidebar-sticky");t.classList.remove("text-center"),u.default.render(t,a.getCategories());var n=t.querySelector("ul.mb-2");e.data.categories.forEach(function(e){u.default.renderPartial(n,'<li class="nav-item" data-id="'+e.id+'">\n                    <a class="nav-link" href="/category/'+e.id+'">\n                        <span class="badge badge-primary float-right">4</span>\n                    </a>\n                </li>'),document.querySelector('[data-id="'+e.id+'"] a').childNodes[0].textContent=e.name})})}},{key:"createContainerWhenNeeded",value:function(){this.containerExists()||u.default.renderPartial(document.querySelector(".container-fluid > div"),'<nav class="col-md-2 d-none d-md-block bg-light sidebar">\n            <div class="sidebar-sticky text-center">\n            </div>\n        </nav>')}},{key:"getCategories",value:function(){return'<ul class="nav flex-column">\n            <li class="nav-item">\n                <a class="nav-link active" href="/dashboard">\n                    All <span class="sr-only">(current)</span>\n                </a>\n            </li>\n        </ul>\n        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">\n            Categories\n            <span class="text-right text-muted"><a href="#" class="add-category">+ Add new</a></span>\n        </h6>\n        <ul class="nav flex-column mb-2">\n            \n        </ul>'}},{key:"containerExists",value:function(){return null!==document.querySelector(".sidebar-sticky")}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this.handler=e,document.addEventListener("click",this.handleClick.bind(this))}t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1);var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,((a=r)&&a.__esModule?a:{default:a}).default),i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"GetCategories",{}))}t.default=o},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"run",value:function(e){window.open("/read/"+e,"_blank")}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}t.default=r}]);